#!/usr/bin/env python3

import os, time, random, socket

try:
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("2019shell1.picoctf.com", 4160))
    seed = int(time.time()) - 15
    s.recv(1024)
    for i in range(31):
        data = s.recv(128).decode()
        if "the height: " not in data:
            break
        n = os.popen(f"./test {seed} {i}").read().strip()
        print(f"Level {i+1}: " + n)
        s.send(f"{n}\n".encode())
    print(data)
except (KeyboardInterrupt, EOFError):
    print()
